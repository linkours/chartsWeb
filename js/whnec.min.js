$(function(){
	var tooltipData={trigger: 'axis'};
    var gridData={
    		left: '0',
	        right: '0',
	        top: '14%',
	        bottom: '1%',
	        containLabel: true
   	};
   	var yAxisData={
   			type: 'value',
	        axisTick:{
		        show:false//隐藏Y轴刻度
		    },
		    axisLine: {
				show: false
			}
	};
	var itemStyleData={
		normal: {
            color: "#2799DF",
            lineStyle: {
                color: "#2799DF"
            }
        }
	};
	var titleDatas={
		text: '7天内收到的打赏',
        x: 'center',
        top:'0',
        textStyle: {
			fontSize: 15,
			fontWeight:100
		},
	};
    var award = echarts.init(document.getElementById('award'));
    var fans = echarts.init(document.getElementById('fans'));
    var send = echarts.init(document.getElementById('send'));
	var	option = {
		title: titleDatas,
	    tooltip: tooltipData,
	    xAxis: {
	        type: 'category',
	        data: []
	    },
	    grid: gridData,
	    yAxis: yAxisData,
	    series: [{
	            name: '收到的打赏',
	            type: 'line',
	            itemStyle: itemStyleData,
	            data: []
	        }]
	};
	award.setOption(option);
	fans.setOption(option);
	send.setOption(option);
	var timeArr=[];
	var awardArr=[];
    var fansArr=[];
    var sendArr=[];
    $.ajax({
    	type:"get",
		url:"../kol/details.json",
		success:function(data){
			data=eval(data);
			var allLen=data.dataInfo.length;
			var allTxt=data.dataInfo;
			for(var i=0;i<allLen;i++){
				var allTime=allTxt[i].times;
				var awardval=allTxt[i].award;
				var fansval=allTxt[i].fans;
				var sendval=allTxt[i].send;
				timeArr.push(allTime);
				awardArr.push(awardval);
				fansArr.push(fansval);
				sendArr.push(sendval);
			}
			award.setOption({
				xAxis:[{data:timeArr}],
				series:[{data:awardArr}]
			});
			fans.setOption({
				xAxis:[{data:timeArr}],
				title:[{text:"7天内粉丝变化"}],
				series:[{data:fansArr,name:"7天内粉丝变化"}]
			});
			send.setOption({
				xAxis:[{data:timeArr}],
				title:[{text:"7天累计送出"}],
				series:[{data:fansArr,name:"7天累计送出"}]
			});
		}
    });
});
